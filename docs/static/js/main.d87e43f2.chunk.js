(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),s=a.n(c),l=(a(16),a(4)),i=a(5),m=a(8),u=a(6),o=a(9),d=a(1),p=a.n(d),f=a(7),h=function(e){function t(){return(t=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(!(a=e.sent).ok){e.next=9;break}return e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:throw a;case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}("".concat("https://rickandmortyapi.com/api/character").concat(e))},_=function(e){var t="search";return Object.entries(e).map(function(e){return e[1]}).filter(function(e){return e.name?e:null}).map(function(e){return e.checked||e.type===t?{name:e.name,value:e.value}:null}).filter(function(e){return e})},E=function(e){return r.a.createElement("ul",{className:"card-list"},e.charactersData.map(function(e){return r.a.createElement("li",{key:e.id,className:"card-list__item"},r.a.createElement("div",{className:"card-list__item-wrap"},r.a.createElement("img",{className:"card-list__photo",src:e.image,alt:"#"}),r.a.createElement("div",{className:"card-list__name-wrap"},r.a.createElement("p",{className:"card-list__name"},e.name),r.a.createElement("p",{className:"card-item__id-info"},"ID: ",e.id)),r.a.createElement("div",{className:"card-list__character-specs"},r.a.createElement("div",{className:"card-list__character-spec-item"},r.a.createElement("span",{className:"card-list__spec"},"Status"),r.a.createElement("span",{className:"card-list__spec-value"},e.status)),r.a.createElement("div",{className:"card-list__character-spec-item"},r.a.createElement("span",{className:"card-list__spec"},"Species"),r.a.createElement("span",{className:"card-list__spec-value"},e.species)),r.a.createElement("div",{className:"card-list__character-spec-item"},r.a.createElement("span",{className:"card-list__spec"},"Gender"),r.a.createElement("span",{className:"card-list__spec-value"},e.gender)))))}))},N=function(e){if(!e.pagesCount||1===e.pagesCount)return"";for(var t=[],a=1;a<=e.pagesCount;a++)t.push(r.a.createElement("li",{onClick:e.onClick,className:"pagination__item"+(e.currentPage===a?" pagination__item_active":""),id:a,key:a},a));return r.a.createElement("ul",{className:"pagination"},t)},g=[{name:"species",options:["all","human","alien","humanoid","mytholog","animal","robot"]},{name:"gender",options:["all","male","female","genderless","unknown"]},{name:"status",options:["all","alive","dead","unknown"]}],v=function(e){var t=e.filter;return r.a.createElement("fieldset",{className:"filter__item-wrap"},r.a.createElement("legend",{className:"filter__type-head"},t.name),t.options.map(function(e,a){return r.a.createElement("label",{key:a,className:"filter__item"},r.a.createElement("input",{type:"radio",name:t.name,value:"all"===e?"":e,defaultChecked:"all"===e}),e)}))},y=function(e){return r.a.createElement("aside",{className:"sidebar"},r.a.createElement("form",{onSubmit:e.formSubmitHandler,className:"filter"},r.a.createElement("section",null,r.a.createElement("h2",{className:"filter__heading"},"Search:"),r.a.createElement("label",null,r.a.createElement("input",{type:"search",name:"name",placeholder:"Search by name"})),r.a.createElement("label",null,r.a.createElement("input",{type:"search",name:"id",placeholder:"Search by ID"}))),r.a.createElement("section",null,r.a.createElement("h2",{className:"filter__heading"},"Sorting:"),r.a.createElement("fieldset",{className:"filter__item-wrap"},r.a.createElement("legend",{className:"filter__type-head"},"Name"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"sort",value:"asc-name"}),"asc"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"sort",value:"desc-name"}),"desc")),r.a.createElement("fieldset",{className:"filter__item-wrap"},r.a.createElement("legend",{className:"filter__type-head"},"ID"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"sort",defaultChecked:!0,value:"asc-id"}),"asc"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"sort",value:"desc-id"}),"desc"))),r.a.createElement("section",null,r.a.createElement("h2",{className:"filter__heading"},"Filtering:"),g.map(function(e,t){return r.a.createElement(v,{key:t,filter:e})})),r.a.createElement("button",{className:"filter__btn",type:"submit"},"Submit"),r.a.createElement("button",{className:"filter__btn",type:"button"},r.a.createElement("a",{href:"/react-rick-and-morty/"},"Reset"))))},b={dataNotLoaded:"notLoaded",dataLoaded:"ok"},S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={status:b.dataNotLoaded,query:"",currentPage:1,statusText:"Loading..."},a.ascDescArraySorter=function(e,t){switch(t){case"asc-name":return e.sort(function(e,t){return e.name<t.name?-1:1});case"desc-name":return e.sort(function(e,t){return t.name<e.name?-1:1});case"asc-id":return e.sort(function(e,t){return e.id<t.id?-1:1});case"desc-id":return e.sort(function(e,t){return t.id<e.id?-1:1});default:return e}},a.paginationClickHandler=function(e){var t=+e.target.id,n="page=".concat(t,"&").concat(a.state.query);h("?".concat(n)).then(function(e){a.setState({charactersData:e.results,pagesCount:e.info.pages,currentPage:t})})},a.formSubmitHandler=function(e){e.preventDefault();var t=_(e.target);console.log(t);var n=t.find(function(e){return"id"===e.name}).value;if(+n)return h("/".concat(n)).then(function(e){a.setState({charactersData:[e],pagesCount:null,status:b.dataLoaded})}).catch(function(e){a.setState({status:b.dataNotLoaded,statusText:e.statusText})});var r=t.map(function(e){return e.value?"".concat(e.name,"=").concat(e.value,"&"):""}).join(""),c=t.find(function(e){return"sort"===e.name}).value;h("?".concat(r)).then(function(e){if(c){var t=a.ascDescArraySorter(e.results,c);a.setState({charactersData:t})}else a.setState({charactersData:e.results});a.setState({pagesCount:e.info.pages,status:b.dataLoaded,query:r,currentPage:1})}).catch(function(e){a.setState({status:b.dataNotLoaded,statusText:e.statusText})})},a.handleEmptyContent=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement(y,{formSubmitHandler:a.formSubmitHandler}),r.a.createElement("main",null,r.a.createElement("h2",null,e)))},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;h(this.state.query).then(function(t){e.setState({charactersData:t.results,pagesCount:t.info.pages,status:b.dataLoaded})}).catch(function(t){e.setState({status:b.dataNotLoaded,statusText:t.statusText})})}},{key:"render",value:function(){switch(this.state.status){case b.dataNotLoaded:return this.handleEmptyContent(this.state.statusText);case b.dataLoaded:return r.a.createElement("div",{className:"container"},r.a.createElement(y,{formSubmitHandler:this.formSubmitHandler}),r.a.createElement("main",null,r.a.createElement(E,{charactersData:this.state.charactersData}),r.a.createElement(N,{pagesCount:this.state.pagesCount,currentPage:this.state.currentPage,onClick:this.paginationClickHandler})));default:return this.handleEmptyContent(this.state.statusText)}}}]),t}(n.Component);s.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.d87e43f2.chunk.js.map