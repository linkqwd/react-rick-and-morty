(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,a,t){e.exports=t(18)},16:function(e,a,t){},18:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(3),c=t.n(l),s=(t(16),t(4)),i=t(5),m=t(8),u=t(6),o=t(9),d=t(1),p=t.n(d),f=t(7),_=function(e,a){function t(e){return n.apply(this,arguments)}function n(){return(n=Object(f.a)(p.a.mark(function e(a){var t,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a);case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(n=e.sent).error){e.next=10;break}throw new Error(n);case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}return"byId"===e?t("https://rickandmortyapi.com/api/character/".concat(a)):"custom"===e?t("https://rickandmortyapi.com/api/character/?".concat(a)):void 0},E=function(e){for(var a=[],t=0;t<e.elements.length;t++){var n=e.elements[t];if(n.name&&!n.disabled&&"file"!==n.type&&"reset"!==n.type&&"submit"!==n.type&&"button"!==n.type)if("select-multiple"===n.type)for(var r=0;r<n.options.length;r++)n.options[r].selected&&a.push({name:n.name,value:n.options[r].value});else("checkbox"!==n.type&&"radio"!==n.type||n.checked)&&a.push({name:n.name,value:n.value})}return a},h=function(e){var a=e.charactersData.map(function(e){return r.a.createElement("li",{key:e.id,className:"card-list__item"},r.a.createElement("div",{className:"card-list__item-wrap"},r.a.createElement("img",{className:"card-list__photo",src:e.image,alt:"#"}),r.a.createElement("div",{className:"card-list__name-wrap"},r.a.createElement("p",{className:"card-list__name"},e.name),r.a.createElement("p",{className:"card-item__id-info"},"ID: ",e.id)),r.a.createElement("div",{className:"card-list__character-specs"},r.a.createElement("div",{className:"card-list__character-spec-item"},r.a.createElement("span",{className:"card-list__spec"},"Status"),r.a.createElement("span",{className:"card-list__spec-value"},e.status)),r.a.createElement("div",{className:"card-list__character-spec-item"},r.a.createElement("span",{className:"card-list__spec"},"Species"),r.a.createElement("span",{className:"card-list__spec-value"},e.species)),r.a.createElement("div",{className:"card-list__character-spec-item"},r.a.createElement("span",{className:"card-list__spec"},"Gender"),r.a.createElement("span",{className:"card-list__spec-value"},e.gender)))))});return r.a.createElement("ul",{className:"card-list"},a)},v=function(e){if(0===e.pagesCount||void 0===e.pagesCount)return"";for(var a=[],t=1;t<=e.pagesCount;t++)a.push(r.a.createElement("li",{onClick:e.onClick,className:"pagination__item"+(e.currentPage===t?" pagination__item_active":""),id:t,key:t},t));return r.a.createElement("ul",{className:"pagination"},a)},N=function(e){return r.a.createElement("aside",{className:"sidebar"},r.a.createElement("form",{onSubmit:e.formSubmitHandler,className:"filter"},r.a.createElement("section",null,r.a.createElement("h2",{className:"filter__heading"},"Search:"),r.a.createElement("label",null,r.a.createElement("input",{type:"search",name:"name",placeholder:"Search by name or ID"}))),r.a.createElement("section",null,r.a.createElement("h2",{className:"filter__heading"},"Sorting:"),r.a.createElement("fieldset",{className:"filter__item-wrap"},r.a.createElement("legend",{className:"filter__type-head"},"Name"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"sort",value:"asc-name"}),"asc"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"sort",value:"desc-name"}),"desc")),r.a.createElement("fieldset",{className:"filter__item-wrap"},r.a.createElement("legend",{className:"filter__type-head"},"ID"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"sort",defaultChecked:!0,value:"asc-id"}),"asc"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"sort",value:"desc-id"}),"desc"))),r.a.createElement("section",null,r.a.createElement("h2",{className:"filter__heading"},"Filtering:"),r.a.createElement("fieldset",{className:"filter__item-wrap"},r.a.createElement("legend",{className:"filter__type-head"},"Species"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"species",defaultChecked:!0,value:""}),"All"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"species",value:"human"}),"Human"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"species",value:"alien"}),"Alien"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"species",value:"humanoid"}),"Humanoid"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"species",value:"mytholog"}),"Mytholog"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"species",value:"animal"}),"Animal"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"species",value:"robot"}),"Robot")),r.a.createElement("fieldset",{className:"filter__item-wrap"},r.a.createElement("legend",{className:"filter__type-head"},"Status"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"status",defaultChecked:!0,value:""}),"All"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"status",value:"alive"}),"Alive"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"status",value:"dead"}),"Dead"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"status",value:"unknown"}),"Unknown")),r.a.createElement("fieldset",{className:"filter__item-wrap"},r.a.createElement("legend",{className:"filter__type-head"},"Gender"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"gender",defaultChecked:!0,value:""}),"All"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"gender",value:"male"}),"Male"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"gender",value:"female"}),"Female"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"gender",value:"genderless"}),"Genderless"),r.a.createElement("label",{className:"filter__item"},r.a.createElement("input",{type:"radio",name:"gender",value:"unknown"}),"Unknown"))),r.a.createElement("button",{className:"filter__btn",type:"submit"},"Submit"),r.a.createElement("button",{className:"filter__btn",type:"button"},r.a.createElement("a",{href:"/react-rick-and-morty/"},"Reset"))))},y=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={status:"notLoaded",query:"",currentPage:1},t.ascDescArraySorter=function(e,a){switch(a){case"asc-name":return e.sort(function(e,a){return e.name<a.name?-1:1});case"desc-name":return e.sort(function(e,a){return a.name<e.name?-1:1});case"asc-id":return e.sort(function(e,a){return e.id<a.id?-1:1});case"desc-id":return e.sort(function(e,a){return a.id<e.id?-1:1});default:console.log("sorting error")}},t.paginationClickHandler=function(e){var a=+e.target.id,n="page=".concat(a,"&").concat(t.state.query);_("custom",n).then(function(e){e.currentPage=a,t.updateState(e)})},t.formSubmitHandler=function(e){e.preventDefault();var a=E(e.target),n=a.filter(function(e){return"name"===e.name})[0].value;if(Number(n))_("byId",n).then(function(e){t.updateState({info:{},results:[e]})}).catch(function(){t.setState({status:"404"})});else{var r=a.map(function(e){return e.value?"".concat(e.name,"=").concat(e.value,"&"):""}).join(""),l=a.filter(function(e){return"sort"===e.name})[0].value;_("custom",r).then(function(e){l&&(e.results=t.ascDescArraySorter(e.results,l)),e.query=r,t.updateState(e)}).catch(function(){t.setState({status:"404"})})}},t}return Object(o.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;_("custom",this.state.query).then(function(a){e.updateState(a)})}},{key:"updateState",value:function(e){this.setState({charactersData:e.results,pagesCount:e.info.pages,currentPage:e.currentPage||1,query:e.query||this.state.query,status:"ok"})}},{key:"render",value:function(){return"notLoaded"===this.state.status?r.a.createElement("div",{className:"container"},r.a.createElement(N,{formSubmitHandler:this.formSubmitHandler}),r.a.createElement("main",null,r.a.createElement("h2",null,"Loading..."))):"ok"===this.state.status?r.a.createElement("div",{className:"container"},r.a.createElement(N,{formSubmitHandler:this.formSubmitHandler}),r.a.createElement("main",null,r.a.createElement(h,{charactersData:this.state.charactersData}),r.a.createElement(v,{pagesCount:this.state.pagesCount,currentPage:this.state.currentPage,onClick:this.paginationClickHandler}))):"404"===this.state.status?r.a.createElement("div",{className:"container"},r.a.createElement(N,{formSubmitHandler:this.formSubmitHandler}),r.a.createElement("main",null,r.a.createElement("h2",null,"Not found"))):r.a.createElement("div",{className:"container"},r.a.createElement("main",null,r.a.createElement("h2",null,"Unkown error while rendering")))}}]),a}(n.Component);c.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.52e317ac.chunk.js.map